---
title: 'task'
sidebarTitle: 'task'
groups: ["strikes"]
---

# Module `task`

*(Full name: `dreadnode.task`)*

**Source file:** `task.py`

## Classes


### Class `Task`

**Inherits from:** `typing.Generic`

Structured task wrapper for a function that can be executed within a run.

Tasks allow you to associate metadata, inputs, outputs, and metrics for a unit of work.

#### Methods

##### `__call__`

`__call__(...)`

Call self as a function.

---

##### `__eq__`

`__eq__(...)`

Return self==value.

---

##### `__get__`

`__get__(...)`

---

##### `__init__`

`__init__(...)`

Initialize self.  See help(type(self)) for accurate signature.

---

##### `__post_init__`

`__post_init__(...)`

---

##### `__repr__`

`__repr__(...)`

Return repr(self).

---

##### `clone`

`clone(...)`

Clone a task.

**Returns:** A new Task instance with the same attributes as this one.

---

##### `map`

`map(...)`

Run the task multiple times and return a list of outputs.

**Parameters:**

- **`count`**: The number of times to run the task.
- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** A list of outputs from each task execution.

---

##### `map_run`

`map_run(...)`

Run the task multiple times and return a list of spans.

**Parameters:**

- **`count`**: The number of times to run the task.
- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** A TaskSpanList associated with each task execution.

---

##### `run`

`run(...)`

Execute the task and return the result as a TaskSpan.

**Parameters:**

- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** The span associated with task execution.

---

##### `top_n`

`top_n(...)`

Run the task multiple times and return the top n outputs.

**Parameters:**

- **`count`**: The number of times to run the task.
- **`n`**: The number of top outputs to return.
- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** A list of the top n outputs from the task executions.

---

##### `try_`

`try_(...)`

Attempt to run the task and return the result.

If the task fails, a warning is logged and None is returned.

**Parameters:**

- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** The output of the task, or None if the task failed.

---

##### `try_map`

`try_map(...)`

Attempt to run the task multiple times and return a list of outputs.

If any task fails, a warning is logged and None is returned for that task.

**Parameters:**

- **`count`**: The number of times to run the task.
- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** A list of outputs from each task execution.

---

##### `try_map_run`

`try_map_run(...)`

Attempt to run the task multiple times and return a list of spans.

If any task fails, a warning is logged and None is returned for that task.

**Parameters:**

- **`count`**: The number of times to run the task.
- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** A TaskSpanList associated with each task execution.

---

##### `try_run`

`try_run(...)`

Attempt to run the task and return the result as a TaskSpan.

If the task fails, a warning is logged and None is returned.

**Parameters:**

- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** The span associated with task execution, or None if the task failed.

---

##### `try_top_n`

`try_top_n(...)`

Attempt to run the task multiple times and return the top n outputs.

If any task fails, a warning is logged and None is returned for that task.

**Parameters:**

- **`count`**: The number of times to run the task.
- **`n`**: The number of top outputs to return.
- **`args`**: The arguments to pass to the task.
- **`kwargs`**: The keyword arguments to pass to the task.

**Returns:** A list of the top n outputs from the task executions.

---

##### `with_`

`with_(...)`

Clone a task and modify its attributes.

**Parameters:**

- **`scorers`**: A list of new scorers to set or append to the task.
- **`name`**: The new name for the task.
- **`tags`**: A list of new tags to set or append to the task.
- **`label`**: The new label for the task.
- **`log_params`**: Whether to log all, or specific, incoming arguments to the function as parameters.
- **`log_inputs`**: Whether to log all, or specific, incoming arguments to the function as inputs.
- **`log_output`**: Whether to automatically log the result of the function as an output.
- **`append`**: If True, appends the new scorers and tags to the existing ones. If False, replaces them.
- **`**attributes`**: Additional attributes to set or update in the task.

**Returns:** A new Task instance with the modified attributes.

---


### Class `TaskFailedWarning`

**Inherits from:** `UserWarning`

Base class for warnings generated by user code.


### Class `TaskGeneratorWarning`

**Inherits from:** `UserWarning`

Base class for warnings generated by user code.


### Class `TaskSpanList`

**Inherits from:** `list`

Lightweight wrapper around a list of TaskSpans to provide some convenience methods.

#### Methods

##### `sorted`

`sorted(...)`

Sorts the spans in this list by their average metric value.

**Parameters:**

- **`reverse`**: If True, sorts in descending order. Defaults to True. Default: `True`

**Returns:** A new TaskSpanList sorted by average metric value.

---

##### `top_n`

`top_n(...)`

Take the top n spans from this list, sorted by their average metric value.

**Parameters:**

- **`n`**: The number of spans to take.
- **`as_outputs`**: If True, returns a list of outputs instead of spans. Defaults to False. Default: `False`
- **`reverse`**: If True, sorts in descending order. Defaults to True. Default: `True`

**Returns:** A new TaskSpanList or list of outputs sorted by average metric value.

---


